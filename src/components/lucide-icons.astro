---
const { icon, ...props } = Astro.props

const [, attributes, children] = icon

const componentChildren = children
  ?.map(
    ([child, attributes]: [string, Record<string, any>]) =>
      `<${child} ${Object.entries(attributes)
        .map(([k, v]) => `${k}="${v}"`)
        .join(' ')} />`,
  )
  .join('\n')

const componentAttributes = { ...attributes, ...props }
---

<svg {...componentAttributes} set:html={componentChildren} />
